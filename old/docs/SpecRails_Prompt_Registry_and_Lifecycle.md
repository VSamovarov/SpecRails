# üß≠ **SpecRails Prompt Registry & Lifecycle**

## üéØ –¶–µ–ª—å

> –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É, –ø—Ä–æ—Ü–µ—Å—Å—ã –∏ –ø—Ä–∞–≤–∏–ª–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∂–∏–∑–Ω–µ–Ω–Ω—ã–º —Ü–∏–∫–ª–æ–º Prompt Contracts ‚Äî –æ—Ç —Å–æ–∑–¥–∞–Ω–∏—è –¥–æ —Å–Ω—è—Ç–∏—è —Å —ç–∫—Å–ø–ª—É–∞—Ç–∞—Ü–∏–∏.
> Prompt Registry ‚Äî —ç—Ç–æ —Å–∏—Å—Ç–µ–º–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤, –æ–±–µ—Å–ø–µ—á–∏–≤–∞—é—â–µ–µ –∏—Ö –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ, —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å –∏ –∫–æ–Ω—Ç—Ä–æ–ª—å –∫–∞—á–µ—Å—Ç–≤–∞.

---

## ‚öôÔ∏è 1. –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–∞—è —Ä–æ–ª—å

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç                      | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ                                                              |
| ------------------------------ | ----------------------------------------------------------------------- |
| **Prompt Registry**            | –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –≤—Å–µ—Ö –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤, –∏—Ö –≤–µ—Ä—Å–∏–π –∏ —Å–≤—è–∑–µ–π          |
| **Contract Lifecycle Manager** | –£–ø—Ä–∞–≤–ª—è–µ—Ç –ø—É–±–ª–∏–∫–∞—Ü–∏–µ–π, –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ–º, –∞—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞–Ω–∏–µ–º –∏ –æ—Ç–∑—ã–≤–æ–º –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤ |
| **Compatibility Engine**       | –ü—Ä–æ–≤–µ—Ä—è–µ—Ç —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å –º–µ–∂–¥—É –≤–µ—Ä—Å–∏—è–º–∏ –∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤       |
| **Audit Trail**                | –§–∏–∫—Å–∏—Ä—É–µ—Ç –∏—Å—Ç–æ—Ä–∏—é –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤ –ø—Ä–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–æ–≤     |

---

## üß© 2. –ñ–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞

```mermaid
graph TD
A[Draft] --> B[Review]
B -->|Approved| C[Published]
C -->|In Use| D[Active]
D -->|Replaced by new version| E[Deprecated]
E -->|Retired| F[Archived]
```

| –°—Ç–∞–¥–∏—è         | –û–ø–∏—Å–∞–Ω–∏–µ                                                 | –û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π   |
| -------------- | -------------------------------------------------------- | --------------- |
| **Draft**      | –ß–µ—Ä–Ω–æ–≤–∏–∫ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞ —Å–æ–∑–¥–∞—ë—Ç—Å—è AI Governance –∏–ª–∏ Core Team | –ê–≤—Ç–æ—Ä           |
| **Review**     | –ü—Ä–æ–≤–æ–¥–∏—Ç—Å—è —Ä—É—á–Ω–∞—è –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞              | –ê—Ä—Ö–∏—Ç–µ–∫—Ç–æ—Ä / QA |
| **Published**  | –ö–æ–Ω—Ç—Ä–∞–∫—Ç –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –≤ —Ä–µ–µ—Å—Ç—Ä, –ø–æ–ª—É—á–∞–µ—Ç –≤–µ—Ä—Å–∏—é           | Governance Team |
| **Active**     | –ö–æ–Ω—Ç—Ä–∞–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ DSL                    | Runtime System  |
| **Deprecated** | –ö–æ–Ω—Ç—Ä–∞–∫—Ç —É—Å—Ç–∞—Ä–µ–ª, –Ω–æ –µ—â—ë –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è                  | Core System     |
| **Archived**   | –ö–æ–Ω—Ç—Ä–∞–∫—Ç —Å–Ω—è—Ç —Å —ç–∫—Å–ø–ª—É–∞—Ç–∞—Ü–∏–∏, —Ö—Ä–∞–Ω–∏—Ç—Å—è –¥–ª—è —Ç—Ä–∞—Å—Å–∏—Ä–æ–≤–∫–∏   | Audit System    |

---

## üß± 3. –ü—Ä–∏–º–µ—Ä —Å—Ç—Ä—É–∫—Ç—É—Ä—ã —Ä–µ–µ—Å—Ç—Ä–∞

```yaml
registry:
  - id: base.contract.v1
    status: active
    file: "base.prompt.yaml"
    created_at: "2025-10-01"
    owner: "specrails-core"

  - id: form.contract.v2
    status: active
    extends: "base.contract.v1"
    depends_on: ["model.contract.v1", "acl.contract.v1"]
    schema: "spec.form.v1.json"

  - id: model.contract.v1
    status: deprecated
    replaced_by: "model.contract.v2"
```

---

## üîÑ 4. –û–ø–µ—Ä–∞—Ü–∏–∏ —Å –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞–º–∏

| –û–ø–µ—Ä–∞—Ü–∏—è      | –û–ø–∏—Å–∞–Ω–∏–µ                                    | –¢—Ä–∏–≥–≥–µ—Ä             |
| ------------- | ------------------------------------------- | ------------------- |
| **publish**   | –ü—É–±–ª–∏–∫–∞—Ü–∏—è –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞ –≤ —Ä–µ–µ—Å—Ç—Ä               | –ü–æ—Å–ª–µ —Ä–µ–≤—å—é         |
| **update**    | –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤–µ—Ä—Å–∏–∏ –±–µ–∑ —Å–º–µ–Ω—ã –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–∞  | Minor release       |
| **replace**   | –ó–∞–º–µ–Ω–∞ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞ –Ω–æ–≤—ã–º —Å –∏–∑–º–µ–Ω—ë–Ω–Ω—ã–º schema  | Major release       |
| **deprecate** | –ü–µ—Ä–µ–≤–æ–¥ –≤ —É—Å—Ç–∞—Ä–µ–≤—à–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ              | –ü—Ä–∏ –Ω–µ—Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ |
| **archive**   | –°–Ω—è—Ç–∏–µ —Å —ç–∫—Å–ø–ª—É–∞—Ç–∞—Ü–∏–∏ –∏ –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ –≤ –∞—Ä—Ö–∏–≤ | –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏       |

---

## ‚öôÔ∏è 5. –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å –∏ –ø—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

Compatibility Engine –ø—Ä–æ–≤–µ—Ä—è–µ—Ç:

* –Ω–∞–ª–∏—á–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π (`depends_on`),
* –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å —Å—Ö–µ–º (`schema_ref`),
* —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç—å –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ (`domain`, `type`, `format`),
* –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –≤–µ—Ä—Å–∏–∏ AI –∞–≥–µ–Ω—Ç–æ–≤.

```yaml
compatibility:
  requires: ["base.contract.v1"]
  supports_ai_models: ["gpt-5", "claude-3"]
  schema_ref: "spec.form.v1.json"
```

---

## üß† 6. –í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ

| –¢–∏–ø –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è | –ü—Ä–∏–º–µ—Ä            | –ü—Ä–∞–≤–∏–ª–æ                                            |
| -------------- | ----------------- | -------------------------------------------------- |
| **Major**      | `v1 ‚Üí v2`         | –ò–∑–º–µ–Ω–µ–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞, –Ω–µ—Å–æ–≤–º–µ—Å—Ç–∏–º–æ —Å –ø—Ä–æ—à–ª–æ–π —Å—Ö–µ–º–æ–π  |
| **Minor**      | `v1.0 ‚Üí v1.1`     | –î–æ–±–∞–≤–ª–µ–Ω—ã –Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è –∏–ª–∏ —É—Ç–æ—á–Ω–µ–Ω—ã –ø—Ä–∞–≤–∏–ª–∞ |
| **Patch**      | `v1.1.0 ‚Üí v1.1.1` | –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ª–æ–≥–∏–∫–∏                   |

–í—Å–µ –≤–µ—Ä—Å–∏–∏ —Ö—Ä–∞–Ω—è—Ç—Å—è –∏ –º–æ–≥—É—Ç –±—ã—Ç—å –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã —á–µ—Ä–µ–∑ `rollback`.

---

## üìä 7. Audit Trail –∏ —Ç—Ä–∞—Å—Å–∏—Ä–æ–≤–∫–∞

–ö–∞–∂–¥–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è AI —Ñ–∏–∫—Å–∏—Ä—É–µ—Ç—Å—è —Å —É–∫–∞–∑–∞–Ω–∏–µ–º –≤–µ—Ä—Å–∏–∏ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞:

```yaml
audit_entry:
  timestamp: "2025-11-06T09:42:00Z"
  contract_used: "form.contract.v2"
  ai_model: "gpt-5"
  result_hash: "0x8ffbc1a"
  validation: "passed"
```

–≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ü–µ–ø–æ—á–∫—É: *Prompt ‚Üí Output ‚Üí Validation ‚Üí Feedback ‚Üí Correction*.

---

## üß© 8. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —è–¥—Ä–æ–º SpecRails

* Registry –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –∫–∞–∫ **–≤–Ω–µ—à–Ω–∏–π —Å–µ—Ä–≤–∏—Å —è–¥—Ä–∞**, –Ω–æ –º–æ–∂–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –≤ –æ—Ñ—Ñ–ª–∞–π–Ω-—Ä–µ–∂–∏–º–µ (–ª–æ–∫–∞–ª—å–Ω—ã–π –∫–µ—à).
* –í—Å–µ –∑–∞–ø—Ä–æ—Å—ã –∫ AI –ø—Ä–æ—Ö–æ–¥—è—Ç —á–µ—Ä–µ–∑ **Prompt Lifecycle Manager**, –∫–æ—Ç–æ—Ä—ã–π –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –∞–∫—Ç—É–∞–ª—å–Ω—É—é –≤–µ—Ä—Å–∏—é –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞.
* Deprecated –∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã –Ω–µ —É–¥–∞–ª—è—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ ‚Äî –∏—Ö –º–æ–∂–Ω–æ –∑–∞–∫—Ä–µ–ø–∏—Ç—å (freeze) –¥–ª—è —Å—Ç–∞–±–∏–ª—å–Ω—ã—Ö —Ä–µ–ª–∏–∑–æ–≤.

---

## üß≠ 9. –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–π –ø—Ä–∏–Ω—Ü–∏–ø

> **Prompt Registry ‚Äî —ç—Ç–æ –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –¥–ª—è –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤.**
> –û–Ω –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏–º–æ—Å—Ç—å, —É–ø—Ä–∞–≤–ª—è–µ–º–æ—Å—Ç—å –∏ –∫–æ–Ω—Ç—Ä–æ–ª—å –∫–∞—á–µ—Å—Ç–≤–∞ –æ–±—â–µ–Ω–∏—è AI –∏ —è–¥—Ä–∞ SpecRails.

–ö–æ–Ω—Ç—Ä–∞–∫—Ç—ã –Ω–µ –ø—Ä–æ—Å—Ç–æ —Ñ–∞–π–ª—ã, –∞ **–≤–µ—Ä—Å–∏–∏ —Å–æ–≥–ª–∞—à–µ–Ω–∏–π –º–µ–∂–¥—É —á–µ–ª–æ–≤–µ–∫–æ–º, AI –∏ –º–∞—à–∏–Ω–Ω–æ–π –ª–æ–≥–∏–∫–æ–π**, –∏ —Ä–µ–µ—Å—Ç—Ä –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ —ç—Ç–∏ —Å–æ–≥–ª–∞—à–µ–Ω–∏—è –º–æ–∂–Ω–æ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ—Å—Ç–∏, –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –∏ —Ä–∞–∑–≤–∏–≤–∞—Ç—å –±–µ–∑ —Ö–∞–æ—Å–∞.
